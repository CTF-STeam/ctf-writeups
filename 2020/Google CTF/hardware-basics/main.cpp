#include "obj_dir/Vcheck.h"

#include <iostream>
#include <memory>

int main(int argc, char *argv[]) {
    Verilated::commandArgs(argc, argv);
    std::cout << "Enter password:" << std::endl;
    auto check = std::make_unique<Vcheck>();

    for (int i = 0; i < 100 && !check->open_safe; i++) {
        int c = fgetc(stdin);
        if (c == '\n' || c < 0) break;
        check->data = c & 0x7f;
        check->clk = false;
        check->eval();
        check->clk = true;
        check->eval();
    }
    if (check->open_safe) {
        std::cout << "CTF{real flag would be here}" << std::endl;
    } else {
        std::cout << "=(" << std::endl;
    }
    return 0;
}


kittens
00110011110110110100011111010010111101111111010101010000
0011001111 01101101000111110100 101111011111 11010101010000
9        0 41                22 21        10 55          42
00001010101011111110111101001011111000101101101111001100
0000101010 10111111101111010010 111110001011 01101111001100
9        0 41                22 21        10 55          42
0000101010 10111111101111010010 111110001011 01101111001100
0        9 22                41 10        21 42          55

magic
11010101010000 01101101000111110100 101111011111 0011001111
55          42 41                22 21        10 9        0
11010101010000011011010001111101001011110111110011001111
1101010 1010000 0110110 1000111 1101001 0111101 1111001 1001111
      0       5       6       2       4       3       7       1
01101111001100 10111111101111010010 111110001011 0000101010
55          42 41                22 21        10 9        0
01101111001100101111111011110100101111100010110000101010
0110111 1001100 1011111 1101111 0100101 1111000 1011000 0101010
      0       5       6       2       4       3       7       1
0000101010 111110001011 10111111101111010010 01101111001100
0        9 10        21 22                41 42          55
00001010101111100010111011111110111101001001101111001100
0000101 0101111 1000101 1101111 1110111 1010010 0110111 1001100
      0       5       6       2       4       3       7       1

memory
1111001 0110110 1010000 1101001 0111101 1000111 1001111 1101010
      7       6       5       4       3       2       1       0
11110010110110101000011010010111101100011110011111101010
1011000 1011111 1001100 0100101 1111000 1101111 0101010 0110111

10110001011111100110001001011111000110111101010100110111
0000101 1001100 1101111 1010010 1110111 0101111 1000101 0110111


0 5 2 7 4 1 6

